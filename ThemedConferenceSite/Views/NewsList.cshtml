@inherits Umbraco.Web.Mvc.UmbracoViewPage
@using Umbraco.Web.Models;
@{
    Layout = "Master.cshtml";
    var children = Model.Children().Where(x => !x.Value<bool>("umbracoNaviHide"));
}

<h1>News</h1>
<ul>
    @foreach (var child in children)
    {
        var articleImage = child.Value<IPublishedContent>("articleImage");
        var articleLinks = child.Value<IEnumerable<Link>>("articleLink");
        <li>
            <img src="@articleImage.Url()" alt="@child.Value("articleImageAltText")" />
            <h2>@child.Value("articleTitle")</h2>
            <h6>@child.Value("articleDate")</h6>
            <h3>@child.Value("articleAuthor")</h3>
            <p>@child.Value("articleDescription")</p>
            @if (articleLinks.Any())
            {
                <a href="@articleLinks.First().Url" target="@articleLinks.First().Target">View Now</a>
            }
        </li>
    }
</ul>